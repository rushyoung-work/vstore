{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["App","offers","useState","userId","setUserId","password","setPassword","region","login","a","document","cookie","split","forEach","c","replace","Date","toUTCString","localStorage","clear","axios","url","method","data","client_id","nonce","redirect_uri","response_type","headers","withCredentials","auth","console","log","type","username","response","error","uri","regexResult","match","accessToken","idtoken","expiresIn","Authorization","entitlementsToken","entitlements_token","userIds","sub","user","name","id","loading","loadOffers","getShop","shop","singleItems","SkinsPanelLayout","SingleItemOffers","i","length","price","uuid","Offers","offer","OfferID","Cost","style","width","height","position","backgroundColor","textAlign","lineHeight","fontSize","fontWeight","top","left","display","value","onChange","e","target","borderRadius","border","marginTop","onClick","color","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"+NAkOeA,MA/Nf,WACE,IAAIC,EAAc,GADL,EAEuBC,oBAAS,GAFhC,gCAGeA,mBAAS,KAHxB,mBAGNC,EAHM,KAGEC,EAHF,OAImBF,mBAAS,IAJ5B,mBAING,EAJM,KAIIC,EAJJ,OAKeJ,mBAAS,MALxB,mBAKNK,EALM,KAOPC,GAPO,KAOF,uCAAG,8CAAAC,EAAA,6DAKZC,SAASC,OAAS,kDAClBD,SAASC,OAAS,mDAClBD,SAASC,OAAS,8CAPN,SASND,SAASC,OAAOC,MAAM,KAAKC,SAAQ,SAASC,GAChDJ,SAASC,OAASG,EAAEC,QAAQ,MAAO,IAAIA,QAAQ,MAAO,cAAe,IAAIC,MAAOC,cAAgB,cAVtF,uBAaNC,aAAaC,QAbP,uBAgBUC,IAAM,CAC1BC,IAAK,kDACLC,OAAQ,OACRC,KAAM,CACJC,UAAW,yBACXC,MAAO,IACPC,aAAc,kCACdC,cAAe,kBAEjBC,QAAS,CACP,eAAgB,mBAChB,8BAAgC,KAElCC,iBAAiB,IA7BP,cAgBRC,EAhBQ,OAgCZC,QAAQC,IAAI,CAACF,SAhCD,UAoCJV,IAAM,CACVC,IAAK,kDACLC,OAAQ,MACRC,KAAM,CACJU,KAAM,OACNC,SAAW/B,EACXE,YAEFuB,QAAS,CACP,eAAgB,mBAChB,8BAAgC,KAElCC,iBAAiB,IAhDT,WAqDW,kBAlBnBM,EAnCQ,OAkDVZ,MAGWa,MArDD,0CAsDL,CACLA,MAAO,6DAvDG,WAyDgB,iBAAnBD,EAASC,MAzDN,0CA0DH,CAAEA,MAAO,wDA1DN,eA4DNC,EAAMF,EAAQ,SAAR,eAENG,EAAcD,EAAIE,MACtB,gGAEIC,EAAcF,EAAY,GAC1BG,EAAUH,EAAY,GACtBI,EAAYJ,EAAY,GAnElB,UAwEFlB,IAAM,CACVC,IAAK,uDACLC,OAAQ,OACRC,KAAM,GACNK,QAAS,CACP,eAAgB,mBAChBe,cAAc,UAAD,OAAYH,IAE3BX,iBAAiB,IAhFX,eAsENe,EAtEM,OAkFRrB,KACFsB,mBAnFU,UAuFFzB,IAAM,CACVC,IAAK,sCACLC,OAAQ,OACRC,KAAM,GACNK,QAAS,CACP,eAAgB,mBAChBe,cAAc,UAAD,OAAYH,IAE3BX,iBAAiB,IA/FX,eAqFNiB,EArFM,OAiGRvB,KACFwB,IAEIC,EAAY,CAChBC,KAAM9C,EACNqC,cACAI,oBACAH,UACAC,YACAnC,SACA2C,GAAIJ,EACJK,SAAS,GA5GC,UA8GNC,EAAWJ,GA9GL,oBA+GZjB,QA/GY,UA+GMsB,EAAQL,GA/Gd,gCA+GJhB,IA/GI,kCAiHLgB,GAjHK,4CAAH,sDAoHLK,EAAO,uCAAG,WAAOL,GAAP,mBAAAvC,EAAA,sEAENW,IAAM,CACVC,IAAI,cAAD,OAAgBd,EAAhB,0CAAwDyC,EAAKE,IAChE5B,OAAQ,MACRM,QAAS,CACP,eAAgB,mBAChB,0BAA2BoB,EAAKJ,kBAChCD,cAAc,UAAD,OAAYK,EAAKR,cAEhCX,iBAAiB,IAVP,OACRyB,EADQ,OAYZ/B,KAEEgC,EAAcD,EAAKE,iBAAiBC,iBAE/BC,EAAI,EAhBC,YAgBEA,EAAIH,EAAYI,QAhBlB,iCAmBFvC,IAAM,CACVC,IAAI,kDAAD,OAAoDkC,EAAYG,IACnEpC,OAAQ,QArBF,OAiBZiC,EAAYG,GAjBA,OAuBRnC,KACFA,KACFgC,EAAYG,GAAGE,MAAQ3D,EAAOsD,EAAYG,GAAGG,MAzBjC,QAgB0BH,IAhB1B,gDA4BP,CAAEH,gBA5BK,4CAAH,sDA+BPH,EAAU,uCAAI,WAAOJ,GAAP,mBAAAvC,EAAA,sEAEVW,IAAM,CACVC,IAAI,cAAD,OAAgBd,EAAhB,8BACHe,OAAQ,MACRM,QAAS,CACP,eAAgB,mBAChB,0BAA2BoB,EAAKJ,kBAChCD,cAAc,UAAD,OAAYK,EAAKR,cAEhCX,iBAAiB,IAVH,OAclB,IAbIM,EADc,OAYhBZ,KAEOmC,EAAI,EAAGA,EAAIvB,EAAS2B,OAAOH,OAAQD,IACtCK,EAAQ5B,EAAS2B,OAAOJ,GAC5BzD,EAAO8D,EAAMC,SAAWD,EAAME,KAAK,wCAhBnB,2CAAJ,sDAoBhB,OACE,sBAAKC,MAAO,CAACC,MAAQ,IAAKC,OAAS,QAASC,SAAW,YAAvD,UAEE,qBAAKH,MAAO,CAACC,MAAQ,OAAQC,OAAS,GAAIE,gBAAkB,UAAWC,UAAY,SAAUC,WAAa,QAA1G,SACA,sBAAMN,MAAO,CAACO,SAAW,GAAIC,WAAa,QAA1C,yEAMA,sBAAKR,MAAO,CAACG,SAAW,WAAYM,IAAM,MAAOC,KAAO,EAAGT,MAAQ,QAAnE,UACE,gCACE,sBAAMD,MAAO,CAACW,QAAU,QAASH,WAAa,QAA9C,gCAGA,uBACEI,MAAO3E,EACP4E,SAAU,SAACC,GACT5E,EAAU4E,EAAEC,OAAOH,QAErBZ,MAAO,CAACC,MAAS,IAAKC,OAAS,GAAIc,aAAe,EAAGC,OAAS,0BAIlE,sBAAKjB,MAAO,CAACkB,UAAY,IAAzB,UACE,sBAAMlB,MAAO,CAACW,QAAU,QAASH,WAAa,QAA9C,sCAGA,uBACEzC,KAAM,WACN6C,MAAOzE,EACP0E,SAAU,SAACC,GACT1E,EAAY0E,EAAEC,OAAOH,QAEvBZ,MAAO,CAACC,MAAU,IAAKC,OAAS,GAAIc,aAAe,EAAGC,OAAS,0BAInE,qBAAKE,QAAS,WAAK7E,KAAU0D,MAAO,CAACC,MAAU,IAAKiB,UAAY,GAAIF,aAAe,EAAGd,OAAS,GAAIE,gBAAkB,UAAWC,UAAY,SAAUC,WAAa,QAAnK,SACE,sBAAMN,MAAO,CAACoB,MAAQ,QAAtB,+CC1MKC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxF,SAASyF,eAAe,SAM1BZ,M","file":"static/js/main.0695496f.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport axios from \"axios\";\n\nfunction App() {\n  let offers: any = {};\n  const [loginCheck, setLoginCheck] = useState(false);\n  const [userId, setUserId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [region, setRegion] = useState(\"kr\");\n  \n  const login = async () => {\n\n    \n    \n\n    document.cookie = 'clid=; path=/; expires=-1; domain=riotgames.com' \n    document.cookie = 'clid=; path=/; expires=-1; domain=.riotgames.com' \n    document.cookie = 'clid=; path=/; expires=-1; domain=127.0.0.1' \n\n    await document.cookie.split(\";\").forEach(function(c) { \n      document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); \n    });\n    //clearing local storage\n    await localStorage.clear();\n\n    \n    let auth: any = await axios({ \n      url: \"https://auth.riotgames.com/api/v1/authorization\",\n      method: \"POST\",\n      data: {\n        client_id: \"play-valorant-web-prod\",\n        nonce: \"1\",\n        redirect_uri: \"https://playvalorant.com/opt_in\",\n        response_type: \"token id_token\",\n      },\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\" : '*'\n      },\n      withCredentials: true,\n    });\n\n    console.log({auth})\n\n\n    let response: any = (\n      await axios({\n        url: \"https://auth.riotgames.com/api/v1/authorization\",\n        method: \"PUT\",\n        data: {\n          type: \"auth\",\n          username : userId,\n          password,\n        },\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\" : '*'\n        },\n        withCredentials: true,\n      })\n    ).data;\n\n\n    if (response.error === \"auth_failure\")\n    return {\n      error: \"An auth error occurred, are the given credentials valid?\",\n    };\n    else if (response.error === \"rate_limited\")\n      return { error: \"You have been rate limited, please try again later.\" };\n\n    const uri = response[\"response\"][\"parameters\"][\"uri\"];\n\n    const regexResult = uri.match(\n      /access_token=((?:[a-zA-Z]|\\d|\\.|-|_)*).*id_token=((?:[a-zA-Z]|\\d|\\.|-|_)*).*expires_in=(\\d*)/\n    );\n    const accessToken = regexResult[1];\n    const idtoken = regexResult[2];\n    const expiresIn = regexResult[3];\n\n     /* Entitlements */\n    const entitlementsToken = (\n      (\n        await axios({\n          url: \"https://entitlements.auth.riotgames.com/api/token/v1\",\n          method: \"POST\",\n          data: {},\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${accessToken}`,\n          },\n          withCredentials: true,\n        })\n      ).data as any\n    ).entitlements_token;\n\n    const userIds = (\n      (\n        await axios({\n          url: \"https://auth.riotgames.com/userinfo\",\n          method: \"POST\",\n          data: {},\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${accessToken}`,\n          },\n          withCredentials: true,\n        })\n      ).data as any\n    ).sub;\n  \n    const user: any = {\n      name: userId,\n      accessToken,\n      entitlementsToken,\n      idtoken,\n      expiresIn,\n      region,\n      id: userIds,\n      loading: false,\n    };\n    await loadOffers(user);\n    console.log(await getShop(user))\n  \n    return user;\n  }\n\n  const getShop = async (user : any) => {\n    const shop: any = (\n      await axios({\n        url: `https://pd.${region}.a.pvp.net/store/v2/storefront/${user.id}`,\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-Riot-Entitlements-JWT\": user.entitlementsToken,\n          Authorization: `Bearer ${user.accessToken}`,\n        },\n        withCredentials: true,\n      })\n    ).data;\n  \n    var singleItems = shop.SkinsPanelLayout.SingleItemOffers;\n  \n    for (var i = 0; i < singleItems.length; i++) {\n      singleItems[i] = (\n        (\n          await axios({\n            url: `https://valorant-api.com/v1/weapons/skinlevels/${singleItems[i]}`,\n            method: \"GET\",\n          })\n        ).data as any\n      ).data;\n      singleItems[i].price = offers[singleItems[i].uuid];\n    }\n  \n    return { singleItems } as any;\n  }\n\n  const loadOffers =  async (user : any) => {\n    let response: any = (\n      await axios({\n        url: `https://pd.${region}.a.pvp.net/store/v1/offers`,\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-Riot-Entitlements-JWT\": user.entitlementsToken,\n          Authorization: `Bearer ${user.accessToken}`,\n        },\n        withCredentials: true,\n      })\n    ).data;\n  \n    for (var i = 0; i < response.Offers.length; i++) {\n      let offer = response.Offers[i];\n      offers[offer.OfferID] = offer.Cost[\"85ad13f7-3d1b-5128-9eb2-7cd8ee0b5741\"];\n    }\n  }\n\n  return (\n    <div style={{width : 640, height : '100vh', position : 'relative'}}>\n      \n      <div style={{width : '100%', height : 50, backgroundColor : '#ededed', textAlign : 'center', lineHeight : '50px'}}>\n      <span style={{fontSize : 18, fontWeight : 'bold'}}>\n          오늘의 상점 확인하자~\n        </span>\n      </div>\n      \n\n      <div style={{position : 'absolute', top : '20%', left : 0, width : '100%'}}>\n        <div>\n          <span style={{display : 'block', fontWeight : 'bold'}}>\n            아이디\n          </span>\n          <input\n            value={userId}\n            onChange={(e : any)=> {\n              setUserId(e.target.value);\n            }}\n            style={{width :  320, height : 30, borderRadius : 5, border : '1px solid #ededed'}}\n          />\n        </div>\n\n        <div style={{marginTop : 30}}>\n          <span style={{display : 'block', fontWeight : 'bold'}}>\n            비밀번호\n          </span>\n          <input\n            type={'password'}\n            value={password}\n            onChange={(e : any)=> {\n              setPassword(e.target.value);\n            }}\n            style={{width  :  320, height : 30, borderRadius : 5, border : '1px solid #ededed'}}\n          />\n        </div>\n\n        <div onClick={()=>{login()}} style={{width  :  320, marginTop : 50, borderRadius : 5, height : 50, backgroundColor : '#2e343b', textAlign : 'center', lineHeight : '50px'}}>\n          <span style={{color : '#fff'}}>\n            접속하기\n          </span>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}